<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>webapp</title>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
      rel="stylesheet"
    />

    <link href="./output.css" rel="stylesheet" />
  </head>
  <body class="bg-bg">
    <div id="error-log" style="color: #fff"></div>
    <div id="root"></div>
    <div id="add-user-panel"></div>
    <div id="filter"></div>
    <div id="tutorial"></div>

    <script>
      var errorLog = document.getElementById("error-log");
      var originalConsoleError = console.error;

      // Перехват XMLHttpRequest
      var _open = XMLHttpRequest.prototype.open;
      XMLHttpRequest.prototype.open = function () {
        console.error("Выполняется запрос:", arguments);
        return _open.apply(this, arguments);
      };

      // Перехват Fetch
      var _fetch = window.fetch;
      window.fetch = function () {
        console.error("Выполняется запрос Fetch:", arguments);
        return _fetch.apply(this, arguments);
      };

      console.error = function (...args) {
        // Выводим ошибку в консоль
        originalConsoleError.apply(console, args);

        // Добавляем ошибку в HTML
        var errorMessage = args.join(" ");
        var newError = document.createElement("div");
        newError.textContent = errorMessage;
        errorLog.appendChild(newError);
      };
    </script>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script type="module" src="/src/main.tsx"></script>
    <noscript>
      Error!!!<br />
      Your browser is no support JavaScript.
    </noscript>
  </body>
</html>
